(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-ef9ba992"],{"4bd4":function(r,e,s){"use strict";var t=s("58df"),a=s("7e2b"),i=s("3206");e["a"]=Object(t["a"])(a["a"],Object(i["b"])("form")).extend({name:"v-form",provide(){return{form:this}},inheritAttrs:!1,props:{disabled:Boolean,lazyValidation:Boolean,readonly:Boolean,value:Boolean},data:()=>({inputs:[],watchers:[],errorBag:{}}),watch:{errorBag:{handler(r){const e=Object.values(r).includes(!0);this.$emit("input",!e)},deep:!0,immediate:!0}},methods:{watchInput(r){const e=r=>r.$watch("hasError",e=>{this.$set(this.errorBag,r._uid,e)},{immediate:!0}),s={_uid:r._uid,valid:()=>{},shouldValidate:()=>{}};return this.lazyValidation?s.shouldValidate=r.$watch("shouldValidate",t=>{t&&(this.errorBag.hasOwnProperty(r._uid)||(s.valid=e(r)))}):s.valid=e(r),s},validate(){return 0===this.inputs.filter(r=>!r.validate(!0)).length},reset(){this.inputs.forEach(r=>r.reset()),this.resetErrorBag()},resetErrorBag(){this.lazyValidation&&setTimeout(()=>{this.errorBag={}},0)},resetValidation(){this.inputs.forEach(r=>r.resetValidation()),this.resetErrorBag()},register(r){this.inputs.push(r),this.watchers.push(this.watchInput(r))},unregister(r){const e=this.inputs.find(e=>e._uid===r._uid);if(!e)return;const s=this.watchers.find(r=>r._uid===e._uid);s&&(s.valid(),s.shouldValidate()),this.watchers=this.watchers.filter(r=>r._uid!==e._uid),this.inputs=this.inputs.filter(r=>r._uid!==e._uid),this.$delete(this.errorBag,e._uid)}},render(r){return r("form",{staticClass:"v-form",attrs:{novalidate:!0,...this.attrs$},on:{submit:r=>this.$emit("submit",r)}},this.$slots.default)}})},"6d75":function(r,e,s){"use strict";s.r(e);var t=function(){var r=this,e=r.$createElement,s=r._self._c||e;return s("div",{},[s("v-container",[s("v-card",{staticClass:"mx-auto mt-10",attrs:{width:"400",elevation:"16"}},[s("v-card-title",{staticClass:"ml-4"},[r._v(" Регистрация ")]),s("v-form",[s("v-row",{staticClass:"mx-5"},[s("v-col",{attrs:{cols:"12"},on:{keydown:function(e){return!e.type.indexOf("key")&&r._k(e.keyCode,"enter",13,e.key,"Enter")?null:r.onSubmit.apply(null,arguments)}}},[s("v-text-field",{attrs:{label:"Имя","error-messages":r.$v.$error?r.nameErrors:[]},model:{value:r.form.name,callback:function(e){r.$set(r.form,"name",e)},expression:"form.name"}}),s("v-text-field",{attrs:{label:"Фамилия","error-messages":r.$v.$error?r.surnameErrors:[]},model:{value:r.form.surname,callback:function(e){r.$set(r.form,"surname",e)},expression:"form.surname"}}),s("v-text-field",{attrs:{label:"Email","error-messages":r.$v.$error?r.emailErrors:[]},model:{value:r.form.email,callback:function(e){r.$set(r.form,"email","string"===typeof e?e.trim():e)},expression:"form.email"}}),s("v-text-field",{attrs:{type:"password",label:"Пароль","error-messages":r.$v.$error?r.passwordErrors:[]},model:{value:r.form.password,callback:function(e){r.$set(r.form,"password","string"===typeof e?e.trim():e)},expression:"form.password"}}),s("v-text-field",{attrs:{type:"password",label:"Повторите пароль","error-messages":r.$v.$error?r.rpasswordErrors:[]},model:{value:r.form.rpassword,callback:function(e){r.$set(r.form,"rpassword","string"===typeof e?e.trim():e)},expression:"form.rpassword"}})],1)],1),r.$store.state.auth.regMessage?s("v-card-text",{staticClass:"ml-4"},[r._v(r._s(r.$store.state.auth.regMessage))]):r._e(),s("v-row",{staticClass:"pa-0 ma-0"},[s("v-col",{attrs:{align:"center",cols:"12",md:"7","offset-md":"1"}},[s("v-btn",{staticClass:"primary",on:{click:r.onSubmit}},[r._v("Зарегистрироваться")])],1),s("v-col",{attrs:{align:"center",cols:"12",md:"auto"}},[s("v-btn",{on:{click:function(e){return r.$router.push("/login")}}},[r._v(" Войти ")])],1)],1)],1)],1)],1)],1)},a=[],i=s("1dce"),o=s("b5ae");const n=o["helpers"].regex("alpha",/^[a-zA-ZА-Яа-я]*$/);var l={mixins:[i["validationMixin"]],data:()=>({form:{email:"",password:"",rpassword:"",name:"",surname:""},message:""}),methods:{async onSubmit(){if(this.$v.$touch(),!this.nameErrors.length&&!this.surnameErrors.length&&!this.emailErrors.length&&!this.passwordErrors.length&&!this.rpasswordErrors.length){const r={email:this.form.email,password:this.form.password,name:this.form.name,surname:this.form.surname};await this.$store.dispatch("auth/register",r)}}},validations:{form:{name:{required:o["required"],alpha:n},surname:{required:o["required"],alpha:n},email:{required:o["required"],email:o["email"]},password:{required:o["required"],minLength:Object(o["minLength"])(8)},rpassword:{required:o["required"],sameAs:Object(o["sameAs"])("password")}}},computed:{nameErrors(){const r=[];return this.$v.form.name.required||r.push("Введите имя"),this.$v.form.name.alpha||r.push("Имя должно быть корректно"),r},surnameErrors(){const r=[];return this.$v.form.surname.required||r.push("Введите фамилию"),this.$v.form.name.alpha||r.push("Имя должно быть корректно"),r},emailErrors(){const r=[];return this.$v.form.email.email||r.push("Введите корректный e-mail"),this.$v.form.email.required||r.push("Введите E-mail"),r},passwordErrors(){const r=[];return this.$v.form.password.required||r.push("Введите пароль"),this.$v.form.password.minLength||r.push("Пароль должен быть не меньше 8 символов"),r},rpasswordErrors(){const r=[];return this.$v.form.rpassword.required||r.push("Введите пароль"),this.$v.form.rpassword.sameAs||r.push("Пароли должны совпадать"),r},message(){return this.$store.state.auth.regMessage}}},d=l,m=s("2877"),u=s("6544"),h=s.n(u),c=s("8336"),p=s("b0af"),f=s("99d9"),v=s("62ad"),w=s("a523"),$=s("4bd4"),g=s("0fd9"),b=s("8654"),E=Object(m["a"])(d,t,a,!1,null,null,null);e["default"]=E.exports;h()(E,{VBtn:c["a"],VCard:p["a"],VCardText:f["b"],VCardTitle:f["c"],VCol:v["a"],VContainer:w["a"],VForm:$["a"],VRow:g["a"],VTextField:b["a"]})}}]);
//# sourceMappingURL=chunk-ef9ba992.1bf84473.js.map