{"version":3,"sources":["webpack:///./src/views/User.vue?efd7","webpack:///src/views/User.vue","webpack:///./src/views/User.vue?2c3d","webpack:///./node_modules/vuetify/lib/components/VBottomSheet/VBottomSheet.js","webpack:///./src/views/User.vue","webpack:///./node_modules/vuetify/lib/components/VForm/VForm.js","webpack:///./node_modules/vuetify/lib/components/VDivider/VDivider.js"],"names":["render","_vm","this","_h","$createElement","_c","_self","staticClass","_v","attrs","$v","$error","nameErrors","model","value","user","callback","$$v","$set","expression","surnameErrors","emailErrors","trim","scopedSlots","_u","key","fn","ref","on","onSubmit","sheet","passwordErrors","_s","message","_e","domProps","clear","changePassword","passSheet","newPasswordErrors","staticRenderFns","alpha","regex","mixins","data","validations","name","required","surname","email","password","minLength","newPassword","methods","$touch","length","payload","$store","dispatch","computed","errors","push","state","auth","authMessage","components","VDialog","extend","props","inset","Boolean","maxWidth","type","String","Number","default","transition","options","classes","call","component","VBottomSheet","VBtn","VCardText","VCard","VCol","VContainer","VDivider","VForm","VIcon","VRow","VSheet","VTextField","form","inheritAttrs","disabled","lazyValidation","readonly","inputs","watchers","errorBag","watch","val","Object","values","includes","$emit","deep","immediate","input","watcher","$watch","_uid","valid","shouldValidate","hasOwnProperty","filter","validate","forEach","reset","resetErrorBag","setTimeout","resetValidation","watchInput","found","find","i","unwatch","$delete","h","novalidate","attrs$","submit","e","$slots","vertical","orientation","$attrs","role","class","themeClasses","$listeners"],"mappings":"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","file":"js/chunk-15e6a010.baf2e3db.js","sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('v-container',[_c('h5',{staticClass:\"text-h5 font-weight-light ml-4 my-4 justify-start\"},[_vm._v(\" Пользователь \")]),_c('v-divider'),_c('v-form',{staticClass:\"mx-auto\"},[_c('v-container',[_c('v-row',[_c('v-col',{attrs:{\"cols\":\"12\",\"md\":\"4\"}},[_c('v-text-field',{attrs:{\"label\":\"Имя\",\"error-messages\":_vm.$v.$error ? _vm.nameErrors: []},model:{value:(_vm.user.name),callback:function ($$v) {_vm.$set(_vm.user, \"name\", $$v)},expression:\"user.name\"}})],1),_c('v-col',{attrs:{\"cols\":\"12\",\"md\":\"4\"}},[_c('v-text-field',{attrs:{\"label\":\"Фамилия\",\"error-messages\":_vm.$v.$error ? _vm.surnameErrors: []},model:{value:(_vm.user.surname),callback:function ($$v) {_vm.$set(_vm.user, \"surname\", $$v)},expression:\"user.surname\"}})],1),_c('v-col',{attrs:{\"cols\":\"12\",\"md\":\"4\"}},[_c('v-text-field',{attrs:{\"label\":\"Email\",\"error-messages\":_vm.$v.$error ? _vm.emailErrors: []},model:{value:(_vm.user.email),callback:function ($$v) {_vm.$set(_vm.user, \"email\", (typeof $$v === 'string'? $$v.trim(): $$v))},expression:\"user.email\"}})],1)],1)],1)],1),_c('div',{staticClass:\"d-flex justify-space-between\"},[_c('v-bottom-sheet',{staticClass:\"mx-auto\",attrs:{\"persistent\":\"\"},scopedSlots:_vm._u([{key:\"activator\",fn:function(ref){\nvar on = ref.on;\nvar attrs = ref.attrs;\nreturn [_c('v-btn',{staticClass:\"ml-4\",attrs:{\"color\":\"primary\",\"elevation\":\"9\"},on:{\"click\":_vm.onSubmit}},[_vm._v(\"Обновить \"),_c('v-icon',{attrs:{\"right\":\"\",\"dark\":\"\"}},[_vm._v(\"mdi-cloud-upload\")])],1)]}}]),model:{value:(_vm.sheet),callback:function ($$v) {_vm.sheet=$$v},expression:\"sheet\"}},[_c('v-sheet',{staticClass:\"text-center\",attrs:{\"height\":\"200px\"}},[_c('v-container',[_c('v-text-field',{attrs:{\"type\":\"password\",\"label\":\"Введите ваш пароль\",\"error-messages\":_vm.$v.$error ? _vm.passwordErrors: []},model:{value:(_vm.user.password),callback:function ($$v) {_vm.$set(_vm.user, \"password\", (typeof $$v === 'string'? $$v.trim(): $$v))},expression:\"user.password\"}}),(_vm.message)?_c('v-card-text',[_vm._v(_vm._s(_vm.message))]):_vm._e(),_c('div',{staticClass:\"d-flex justify-space-around\"},[_c('v-btn',{staticClass:\"my-3\",attrs:{\"text\":\"\",\"color\":\"error\"},domProps:{\"textContent\":_vm._s('Отменить')},on:{\"click\":_vm.clear}}),_c('v-btn',{staticClass:\"my-3\",attrs:{\"text\":\"\",\"color\":\"primary\"},domProps:{\"textContent\":_vm._s('Обновить')},on:{\"click\":_vm.onSubmit}})],1)],1)],1)],1),_c('v-bottom-sheet',{staticClass:\"mx-auto\",attrs:{\"persistent\":\"\"},scopedSlots:_vm._u([{key:\"activator\",fn:function(ref){\nvar on = ref.on;\nvar attrs = ref.attrs;\nreturn [_c('v-btn',{staticClass:\"mr-4\",attrs:{\"color\":\"primary\",\"elevation\":\"9\",\"outlined\":\"\"},on:{\"click\":_vm.changePassword}},[_vm._v(\"Изменить пароль \")])]}}]),model:{value:(_vm.passSheet),callback:function ($$v) {_vm.passSheet=$$v},expression:\"passSheet\"}},[_c('v-sheet',{staticClass:\"text-center\",attrs:{\"height\":\"250px\"}},[_c('v-container',[_c('v-text-field',{attrs:{\"type\":\"password\",\"label\":\"Введите старый пароль\",\"error-messages\":_vm.$v.$error ? _vm.passwordErrors: []},model:{value:(_vm.user.password),callback:function ($$v) {_vm.$set(_vm.user, \"password\", (typeof $$v === 'string'? $$v.trim(): $$v))},expression:\"user.password\"}}),_c('v-text-field',{attrs:{\"type\":\"password\",\"label\":\"Введите новый пароль\",\"error-messages\":_vm.$v.$error ? _vm.newPasswordErrors: []},model:{value:(_vm.user.newPassword),callback:function ($$v) {_vm.$set(_vm.user, \"newPassword\", (typeof $$v === 'string'? $$v.trim(): $$v))},expression:\"user.newPassword\"}}),(_vm.message)?_c('v-card-text',[_vm._v(_vm._s(_vm.message))]):_vm._e(),_c('div',{staticClass:\"d-flex justify-space-around\"},[_c('v-btn',{staticClass:\"my-3\",attrs:{\"text\":\"\",\"color\":\"error\"},domProps:{\"textContent\":_vm._s('Отменить')},on:{\"click\":_vm.clear}}),_c('v-btn',{staticClass:\"my-3\",attrs:{\"text\":\"\",\"color\":\"primary\"},domProps:{\"textContent\":_vm._s('Обновить')},on:{\"click\":_vm.changePassword}})],1)],1)],1)],1)],1)],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <div>\r\n    <v-container>\r\n      <h5 class=\"text-h5 font-weight-light ml-4 my-4 justify-start\">\r\n        Пользователь\r\n      </h5>\r\n      <v-divider/>\r\n      <v-form class=\"mx-auto\">\r\n        <v-container>\r\n          <v-row>\r\n            <v-col cols=\"12\" md=\"4\">\r\n              <v-text-field\r\n                  label=\"Имя\"\r\n                  v-model=\"user.name\"\r\n                  :error-messages=\"$v.$error ? nameErrors: []\"\r\n              />\r\n            </v-col>\r\n            <v-col cols=\"12\" md=\"4\">\r\n            <v-text-field\r\n                  label=\"Фамилия\"\r\n                  v-model=\"user.surname\"\r\n                  :error-messages=\"$v.$error ? surnameErrors: []\"\r\n              />\r\n            </v-col>\r\n            <v-col cols=\"12\" md=\"4\">\r\n              <v-text-field\r\n                  label=\"Email\"\r\n                  v-model.trim=\"user.email\"\r\n                  :error-messages=\"$v.$error ? emailErrors: []\"\r\n              />\r\n            </v-col>\r\n          </v-row>\r\n        </v-container>\r\n      </v-form>\r\n      <div class=\"d-flex justify-space-between\">\r\n        <v-bottom-sheet\r\n            class=\"mx-auto\"\r\n            v-model=\"sheet\"\r\n            persistent\r\n        >\r\n          <template v-slot:activator=\"{ on, attrs }\">\r\n            <v-btn\r\n                class=\"ml-4\"\r\n                color=\"primary\"\r\n                elevation=\"9\"\r\n                @click=\"onSubmit\"\r\n            >Обновить\r\n              <v-icon right dark>mdi-cloud-upload</v-icon>\r\n            </v-btn>\r\n          </template>\r\n          <v-sheet class=\"text-center\" height=\"200px\">\r\n            <v-container>\r\n              <v-text-field\r\n                  type=\"password\"\r\n                  v-model.trim=\"user.password\"\r\n                  label=\"Введите ваш пароль\"\r\n                  :error-messages=\"$v.$error ? passwordErrors: []\"\r\n              />\r\n              <v-card-text v-if=\"message\">{{message}}</v-card-text>\r\n              <div class=\"d-flex justify-space-around\">\r\n                <v-btn\r\n                    class=\"my-3\"\r\n                    text color=\"error\"\r\n                    @click=\"clear\"\r\n                    v-text=\"'Отменить'\"\r\n                />\r\n                <v-btn\r\n                    class=\"my-3\"\r\n                    text color=\"primary\"\r\n                    @click=\"onSubmit\"\r\n                    v-text=\"'Обновить'\"\r\n                />\r\n              </div>\r\n            </v-container>\r\n          </v-sheet>\r\n        </v-bottom-sheet>\r\n\r\n        <v-bottom-sheet\r\n            class=\"mx-auto\"\r\n            v-model=\"passSheet\"\r\n            persistent\r\n        >\r\n          <template v-slot:activator=\"{ on, attrs }\">\r\n            <v-btn\r\n                color=\"primary\"\r\n                elevation=\"9\"\r\n                class=\"mr-4\"\r\n                @click=\"changePassword\"\r\n                outlined\r\n            >Изменить пароль\r\n            </v-btn>\r\n          </template>\r\n          <v-sheet class=\"text-center\" height=\"250px\">\r\n            <v-container>\r\n              <v-text-field\r\n                  type=\"password\"\r\n                  v-model.trim=\"user.password\"\r\n                  label=\"Введите старый пароль\"\r\n                  :error-messages=\"$v.$error ? passwordErrors: []\"\r\n              />\r\n              <v-text-field\r\n                  type=\"password\"\r\n                  v-model.trim=\"user.newPassword\"\r\n                  label=\"Введите новый пароль\"\r\n                  :error-messages=\"$v.$error ? newPasswordErrors: []\"\r\n              />\r\n              <v-card-text v-if=\"message\">{{message}}</v-card-text>\r\n              <div class=\"d-flex justify-space-around\">\r\n                <v-btn\r\n                    class=\"my-3\"\r\n                    text color=\"error\"\r\n                    @click=\"clear\"\r\n                    v-text=\"'Отменить'\"\r\n                />\r\n                <v-btn\r\n                    class=\"my-3\"\r\n                    text color=\"primary\"\r\n                    @click=\"changePassword\"\r\n                    v-text=\"'Обновить'\"\r\n                />\r\n              </div>\r\n            </v-container>\r\n          </v-sheet>\r\n        </v-bottom-sheet>\r\n      </div>\r\n    </v-container>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport {validationMixin} from 'vuelidate'\r\nimport {email, required, minLength, helpers} from 'vuelidate/lib/validators'\r\n\r\nconst alpha = helpers.regex('alpha', /^[a-zA-ZА-Яа-я]*$/)\r\n\r\nexport default {\r\n  mixins: [validationMixin],\r\n  data: () => ({\r\n    sheet: false,\r\n    passSheet: false,\r\n  }),\r\n  validations:{\r\n    user:{\r\n      name: {required, alpha},\r\n      surname: {required, alpha},\r\n      email: {required, email},\r\n      password: {required, minLength: minLength(8)},\r\n      newPassword: {required, minLength: minLength(8)},\r\n    }\r\n  },\r\n  methods:{\r\n    clear(){\r\n      this.user.password = ''\r\n      this.user.newPassword = ''\r\n      this.sheet = false\r\n      this.passSheet = false\r\n    },\r\n    async onSubmit(){\r\n      this.$v.$touch()\r\n      if(!this.nameErrors.length && !this.surnameErrors.length &&\r\n          !this.emailErrors.length && !this.passwordErrors.length) {\r\n        const payload = {\r\n          email: this.user.email,\r\n          password: this.user.password,\r\n          name: this.user.name,\r\n          surname: this.user.surname\r\n        }\r\n        await this.$store.dispatch(\"auth/updateUserInfo\", payload)\r\n        if (!this.message){\r\n          this.sheet = false\r\n          this.clear()\r\n        }\r\n      }\r\n      else if(\r\n          !this.nameErrors.length &&\r\n          !this.surnameErrors.length &&\r\n          !this.emailErrors.length ){\r\n            this.sheet = !this.sheet\r\n      }\r\n    },\r\n    async changePassword(){\r\n      this.$v.$touch()\r\n      this.passSheet = true\r\n      if(!this.passwordErrors.length && !this.newPasswordErrors.length){\r\n        const payload = {\r\n          password: this.user.password,\r\n          newPassword: this.user.newPassword\r\n        }\r\n        await this.$store.dispatch(\"auth/changePassword\", payload)\r\n        if (!this.message){\r\n          this.clear()\r\n          this.passSheet = false\r\n        }\r\n      }\r\n    }\r\n  },\r\n  computed:{\r\n    nameErrors () {\r\n      const errors = []\r\n      if(!this.$v.user.name.required) errors.push('Введите имя')\r\n      if(!this.$v.user.name.alpha) errors.push('Имя должно быть корректно')\r\n      return errors\r\n    },\r\n    surnameErrors () {\r\n      const errors = []\r\n      if(!this.$v.user.surname.required) errors.push('Введите фамилию')\r\n      if(!this.$v.user.surname.alpha) errors.push('Фамилия должна быть корректна')\r\n      return errors\r\n    },\r\n    emailErrors () {\r\n      const errors = []\r\n      if(!this.$v.user.email.email) errors.push('Введите корректный e-mail')\r\n      if(!this.$v.user.email.required) errors.push('Введите E-mail')\r\n      return errors\r\n    },\r\n    passwordErrors () {\r\n      const errors = []\r\n      if (!this.$v.user.password.required) errors.push('Введите пароль')\r\n      if (!this.$v.user.password.minLength) errors.push('Пароль должен быть не меньше 8 символов')\r\n      return errors\r\n    },\r\n    newPasswordErrors () {\r\n      const errors = []\r\n      if (!this.$v.user.newPassword.required) errors.push('Введите пароль')\r\n      if (!this.$v.user.newPassword.minLength) errors.push('Пароль должен быть не меньше 8 символов')\r\n      return errors\r\n    },\r\n    message(){return this.$store.state.auth.authMessage},\r\n    user(){return this.$store.state.auth.user}\r\n  },\r\n  async mounted(){\r\n  },\r\n  components: {}\r\n}\r\n</script>\r\n\r\n<style scoped>\r\n\r\n</style>","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./User.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./User.vue?vue&type=script&lang=js&\"","import \"../../../src/components/VBottomSheet/VBottomSheet.sass\"; // Extensions\n\nimport VDialog from '../VDialog/VDialog';\n/* @vue/component */\n\nexport default VDialog.extend({\n  name: 'v-bottom-sheet',\n  props: {\n    inset: Boolean,\n    maxWidth: {\n      type: [String, Number],\n      default: 'auto'\n    },\n    transition: {\n      type: String,\n      default: 'bottom-sheet-transition'\n    }\n  },\n  computed: {\n    classes() {\n      return { ...VDialog.options.computed.classes.call(this),\n        'v-bottom-sheet': true,\n        'v-bottom-sheet--inset': this.inset\n      };\n    }\n\n  }\n});\n//# sourceMappingURL=VBottomSheet.js.map","import { render, staticRenderFns } from \"./User.vue?vue&type=template&id=0336239a&scoped=true&\"\nimport script from \"./User.vue?vue&type=script&lang=js&\"\nexport * from \"./User.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"0336239a\",\n  null\n  \n)\n\nexport default component.exports\n\n/* vuetify-loader */\nimport installComponents from \"!../../node_modules/vuetify-loader/lib/runtime/installComponents.js\"\nimport { VBottomSheet } from 'vuetify/lib/components/VBottomSheet';\nimport { VBtn } from 'vuetify/lib/components/VBtn';\nimport { VCardText } from 'vuetify/lib/components/VCard';\nimport { VCol } from 'vuetify/lib/components/VGrid';\nimport { VContainer } from 'vuetify/lib/components/VGrid';\nimport { VDivider } from 'vuetify/lib/components/VDivider';\nimport { VForm } from 'vuetify/lib/components/VForm';\nimport { VIcon } from 'vuetify/lib/components/VIcon';\nimport { VRow } from 'vuetify/lib/components/VGrid';\nimport { VSheet } from 'vuetify/lib/components/VSheet';\nimport { VTextField } from 'vuetify/lib/components/VTextField';\ninstallComponents(component, {VBottomSheet,VBtn,VCardText,VCol,VContainer,VDivider,VForm,VIcon,VRow,VSheet,VTextField})\n","// Mixins\nimport mixins from '../../util/mixins';\nimport BindsAttrs from '../../mixins/binds-attrs';\nimport { provide as RegistrableProvide } from '../../mixins/registrable';\n/* @vue/component */\n\nexport default mixins(BindsAttrs, RegistrableProvide('form')\n/* @vue/component */\n).extend({\n  name: 'v-form',\n\n  provide() {\n    return {\n      form: this\n    };\n  },\n\n  inheritAttrs: false,\n  props: {\n    disabled: Boolean,\n    lazyValidation: Boolean,\n    readonly: Boolean,\n    value: Boolean\n  },\n  data: () => ({\n    inputs: [],\n    watchers: [],\n    errorBag: {}\n  }),\n  watch: {\n    errorBag: {\n      handler(val) {\n        const errors = Object.values(val).includes(true);\n        this.$emit('input', !errors);\n      },\n\n      deep: true,\n      immediate: true\n    }\n  },\n  methods: {\n    watchInput(input) {\n      const watcher = input => {\n        return input.$watch('hasError', val => {\n          this.$set(this.errorBag, input._uid, val);\n        }, {\n          immediate: true\n        });\n      };\n\n      const watchers = {\n        _uid: input._uid,\n        valid: () => {},\n        shouldValidate: () => {}\n      };\n\n      if (this.lazyValidation) {\n        // Only start watching inputs if we need to\n        watchers.shouldValidate = input.$watch('shouldValidate', val => {\n          if (!val) return; // Only watch if we're not already doing it\n\n          if (this.errorBag.hasOwnProperty(input._uid)) return;\n          watchers.valid = watcher(input);\n        });\n      } else {\n        watchers.valid = watcher(input);\n      }\n\n      return watchers;\n    },\n\n    /** @public */\n    validate() {\n      return this.inputs.filter(input => !input.validate(true)).length === 0;\n    },\n\n    /** @public */\n    reset() {\n      this.inputs.forEach(input => input.reset());\n      this.resetErrorBag();\n    },\n\n    resetErrorBag() {\n      if (this.lazyValidation) {\n        // Account for timeout in validatable\n        setTimeout(() => {\n          this.errorBag = {};\n        }, 0);\n      }\n    },\n\n    /** @public */\n    resetValidation() {\n      this.inputs.forEach(input => input.resetValidation());\n      this.resetErrorBag();\n    },\n\n    register(input) {\n      this.inputs.push(input);\n      this.watchers.push(this.watchInput(input));\n    },\n\n    unregister(input) {\n      const found = this.inputs.find(i => i._uid === input._uid);\n      if (!found) return;\n      const unwatch = this.watchers.find(i => i._uid === found._uid);\n\n      if (unwatch) {\n        unwatch.valid();\n        unwatch.shouldValidate();\n      }\n\n      this.watchers = this.watchers.filter(i => i._uid !== found._uid);\n      this.inputs = this.inputs.filter(i => i._uid !== found._uid);\n      this.$delete(this.errorBag, found._uid);\n    }\n\n  },\n\n  render(h) {\n    return h('form', {\n      staticClass: 'v-form',\n      attrs: {\n        novalidate: true,\n        ...this.attrs$\n      },\n      on: {\n        submit: e => this.$emit('submit', e)\n      }\n    }, this.$slots.default);\n  }\n\n});\n//# sourceMappingURL=VForm.js.map","// Styles\nimport \"../../../src/components/VDivider/VDivider.sass\"; // Mixins\n\nimport Themeable from '../../mixins/themeable';\nexport default Themeable.extend({\n  name: 'v-divider',\n  props: {\n    inset: Boolean,\n    vertical: Boolean\n  },\n\n  render(h) {\n    // WAI-ARIA attributes\n    let orientation;\n\n    if (!this.$attrs.role || this.$attrs.role === 'separator') {\n      orientation = this.vertical ? 'vertical' : 'horizontal';\n    }\n\n    return h('hr', {\n      class: {\n        'v-divider': true,\n        'v-divider--inset': this.inset,\n        'v-divider--vertical': this.vertical,\n        ...this.themeClasses\n      },\n      attrs: {\n        role: 'separator',\n        'aria-orientation': orientation,\n        ...this.$attrs\n      },\n      on: this.$listeners\n    });\n  }\n\n});\n//# sourceMappingURL=VDivider.js.map"],"sourceRoot":""}